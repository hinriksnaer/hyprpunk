module:
  name: audio
  description: PipeWire audio stack with codecs and Bluetooth audio support
  dependencies:
    - bluetooth

lifecycle:
  before: []
  after:
    - setup-audio

packages:
  dnf:
    # PipeWire core
    - pipewire
    - pipewire-alsa
    - pipewire-jack-audio-connection-kit
    - pipewire-pulseaudio
    - pipewire-utils
    - wireplumber
    - gstreamer1-pipewire
    # Audio codecs
    - ffmpeg
    - gstreamer1-plugins-base
    - gstreamer1-plugins-good
    - gstreamer1-plugins-bad-free
    - gstreamer1-plugins-ugly-free
    - gstreamer1-libav
    - lame
    - opus
    # Audio control utilities
    - pavucontrol
    - playerctl
    - alsa-utils
    - pulseaudio-utils
    # Bluetooth audio plugin (core Bluetooth via bluetooth module)
    - pipewire-plugin-libcamera
  cargo: []
  npm: []

stow:
  target: $HOME
  conflicts: warn

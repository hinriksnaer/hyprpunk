# Window Rules
# Application-specific window behaviors, floating rules, workspace assignments

# ================================
# Steam Fixes (XWayland dropdown menus)
# ================================
windowrulev2 = stayfocused, title:^()$,class:^(steam)$
windowrulev2 = minsize 1 1, title:^()$,class:^(steam)$

# ================================
# Floating Windows
# ================================

# System dialogs and popups
windowrulev2 = float, title:^(Open File)$
windowrulev2 = float, title:^(Save File)$
windowrulev2 = float, title:^(Open Folder)$

# Authentication & settings
windowrulev2 = float, class:^(polkit-gnome-authentication-agent-1)$
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = float, class:^(blueman-manager)$

# Bluetooth Manager (bluetui)
windowrulev2 = float, class:^(floating-bluetui)$
windowrulev2 = size 800 600, class:^(floating-bluetui)$

# Theme Selector (rofi-theme-select-preview)
windowrulev2 = float, class:^(theme-selector-floating)$
windowrulev2 = size 1400 900, class:^(theme-selector-floating)$
windowrulev2 = center, class:^(theme-selector-floating)$

# Media players
windowrulev2 = float, class:^(mpv)$
windowrulev2 = float, title:^(Picture-in-Picture)$

# ================================
# Opacity Rules
# ================================

# Terminal transparency (also applies to yazi since it runs in kitty)
windowrulev2 = opacity 0.95 0.85, class:^(kitty)$

# ================================
# Workspace Assignments
# ================================

# Browser on workspace 2
windowrulev2 = workspace 2, class:^(firefox)$

# Communication apps on workspace 3
windowrulev2 = workspace 3, class:^(discord)$
windowrulev2 = workspace 3, class:^(Slack)$

# ================================
# Size & Position Rules
# ================================

# Center floating windows (except Steam popups which need to stay near their parent)
windowrulev2 = center, floating:1, class:^(?!steam).*$

# ================================
# Misc Rules
# ================================

# Disable blur for certain apps (performance)
windowrulev2 = noblur, class:^(firefox)$
windowrulev2 = noblur, title:^(.*)(YouTube|Twitch|Netflix)(.*)$

# Keep these windows on top
windowrulev2 = pin, title:^(Picture-in-Picture)$
